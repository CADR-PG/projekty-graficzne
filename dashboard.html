<!DOCTYPE html>
<html lang="pl" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="CADR â€” Silnik 3D w przeglÄ…darce." />
  <meta name="theme-color" content="#0ea5e9" />
  <title>CADR â€” Dashboard</title>

  <style>
    :root {
      --bg: #f8fafc;
      --bg-header: rgba(255, 255, 255, 0.7);
      --text: #0f172a;
      --text-secondary: #475569;
      --border: rgba(0, 0, 0, 0.1);
      --cyan: #0ea5e9;
      --cyan-hover: #38bdf8;
      --button-text: #fff;
      --dot-color: rgba(0, 0, 0, 0.08);
      --glow1: rgba(56,189,248,0.25);
      --glow2: rgba(99,102,241,0.25);
      --card-bg: rgba(255,255,255,0.6);
    }

    html.dark {
      --bg: #0f172a;
      --bg-header: rgba(15, 23, 42, 0.8);
      --text: #f1f5f9;
      --text-secondary: #cbd5e1;
      --border: rgba(255, 255, 255, 0.1);
      --cyan: #38bdf8;
      --cyan-hover: #7dd3fc;
      --button-text: #0f172a;
      --dot-color: rgba(255, 255, 255, 0.08);
      --glow1: rgba(56,189,248,0.25);
      --glow2: rgba(99,102,241,0.25);
      --card-bg: rgba(30,41,59,0.6);
    }

    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      transition: background-color 0.5s, color 0.5s;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background:
        radial-gradient(60rem 60rem at 80% -10%, var(--glow1), transparent 60%),
        radial-gradient(40rem 40rem at -10% 20%, var(--glow2), transparent 60%);
      pointer-events: none;
      z-index: -1;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 50;
      background: var(--bg-header);
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(10px);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 24px;
    }

    header nav a {
      color: var(--text-secondary);
      text-decoration: none;
      margin: 0 12px;
      font-size: 0.9rem;
      transition: color 0.3s;
    }

    header nav a:hover {
      color: var(--text);
    }

    .btn-primary {
      background: var(--cyan);
      color: var(--button-text);
      padding: 10px 18px;
      border-radius: 12px;
      font-weight: 600;
      text-decoration: none;
      border: none;
      cursor: pointer;
      transition: background 0.3s, box-shadow 0.3s;
      box-shadow: 0 4px 16px var(--cyan-hover);
    }

    .btn-primary:hover {
      background: var(--cyan-hover);
    }

    .hero {
      padding: 60px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 16px;
      margin-bottom: 32px;
    }

    .dashboard-header h1 {
      font-size: 2rem;
      font-weight: 700;
    }

    .dashboard-actions {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .search-bar {
      padding: 10px 14px;
      border: 1px solid var(--border);
      border-radius: 10px;
      background: var(--bg);
      color: var(--text);
      font-size: 1rem;
    }

    .scene-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 24px;
    }

    .scene-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.05);
      backdrop-filter: blur(12px);
      transition: transform 0.3s, box-shadow 0.3s;
      display: flex;
      flex-direction: column;
    }

    .scene-card:hover {
      transform: translateY(-6px) scale(1.02);
      box-shadow: 0 6px 24px rgba(0,0,0,0.1);
    }

    .scene-preview {
      height: 160px;
      background-size: cover;
      background-position: center;
      position: relative;
    }

    .scene-preview::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.5), transparent);
    }

    .scene-content {
      padding: 16px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .scene-info h3 {
      font-size: 1.1rem;
      margin: 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .scene-info p {
      margin: 6px 0 0;
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    .scene-actions {
      display: flex;
      justify-content: space-between;
      margin-top: 14px;
    }

    .btn-small {
      padding: 8px 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--bg);
      color: var(--text);
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-small:hover {
      background: var(--cyan);
      color: var(--button-text);
      border-color: var(--cyan-hover);
    }

    /* Kafelek "nowa scena" */
    .scene-card.add-new {
      justify-content: center;
      align-items: center;
      text-align: center;
      font-weight: 600;
      font-size: 1.1rem;
      color: var(--text-secondary);
      cursor: pointer;
      border: 2px dashed var(--border);
      transition: background 0.3s, transform 0.3s;
    }

    .scene-card.add-new:hover {
      background: var(--cyan);
      color: var(--button-text);
      border-color: var(--cyan);
      transform: scale(1.05);
    }

    @media (max-width: 600px) {
      .dashboard-header {
        flex-direction: column;
        align-items: stretch;
      }
      .search-bar {
        width: 100%;
      }
    }
  </style>

  <script>
    // motyw
    if (
      localStorage.theme === 'dark' ||
      (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
    ) document.documentElement.classList.add('dark');

    function toggleTheme() {
      const html = document.documentElement;
      const isDark = html.classList.toggle('dark');
      localStorage.theme = isDark ? 'dark' : 'light';
    }

    // przykÅ‚adowe sceny z miniaturami
    const scenes = [
      { id: 1, name: 'Scena testowa', img: 'https://picsum.photos/400/200?random=1', objects: 24, updated: '2025-10-20' },
      { id: 2, name: 'Miasto nocÄ…', img: 'https://picsum.photos/400/200?random=2', objects: 82, updated: '2025-10-22' },
      { id: 3, name: 'Las deszczowy', img: 'https://picsum.photos/400/200?random=3', objects: 45, updated: '2025-10-23' },
    ];

    function renderScenes() {
      const container = document.getElementById('sceneGrid');
      container.innerHTML = '';

      scenes.forEach(scene => {
        const el = document.createElement('div');
        el.className = 'scene-card';
        el.innerHTML = `
          <div class="scene-preview" style="background-image:url('${scene.img}')"></div>
          <div class="scene-content">
            <div class="scene-info">
              <h3>${scene.name}</h3>
              <p>${scene.objects} obiektÃ³w â€¢ ${scene.updated}</p>
            </div>
            <div class="scene-actions">
              <button class="btn-small" onclick="openScene(${scene.id})">OtwÃ³rz</button>
              <button class="btn-small" onclick="renameScene(${scene.id})">Edytuj</button>
              <button class="btn-small" onclick="deleteScene(${scene.id})">UsuÅ„</button>
            </div>
          </div>
        `;
        container.appendChild(el);
      });

      // Kafelek "nowa scena"
      const add = document.createElement('div');
      add.className = 'scene-card add-new';
      add.innerHTML = '+ Nowa scena';
      add.onclick = addScene;
      container.appendChild(add);
    }

    function addScene() {
      const name = prompt('Podaj nazwÄ™ nowej sceny:');
      if (!name) return;
      scenes.push({
        id: Date.now(),
        name,
        img: `https://picsum.photos/400/200?random=${Math.floor(Math.random() * 1000)}`,
        objects: 0,
        updated: new Date().toISOString().slice(0, 10)
      });
      renderScenes();
    }

    function renameScene(id) {
      const s = scenes.find(x => x.id === id);
      const newName = prompt('Nowa nazwa sceny:', s.name);
      if (newName) {
        s.name = newName;
        s.updated = new Date().toISOString().slice(0,10);
        renderScenes();
      }
    }

    function deleteScene(id) {
      const s = scenes.find(x => x.id === id);
      if (confirm(`Na pewno chcesz usunÄ…Ä‡ "${s.name}"?`)) {
        const i = scenes.findIndex(x => x.id === id);
        scenes.splice(i, 1);
        renderScenes();
      }
    }

    function openScene(id) {
      alert(`Otwieranie sceny ID ${id}...`);
    }

    window.addEventListener('DOMContentLoaded', renderScenes);
  </script>
</head>

<body>
  <!-- Nawigacja -->
  <header>
    <div style="display:flex; align-items:center; gap:10px;">
      <svg aria-hidden="true" width="28" height="28" viewBox="0 0 24 24" style="fill: var(--cyan);">
        <path d="M12 2L2 7l10 5l10-5zm0 7L2 4v13l10 5zm0 0l10-5v13l-10 5z"/>
      </svg>
      <span style="font-weight:600;">CADR</span>
    </div>

    <nav>
      <a href="#features">Funkcje</a>
      <a href="#showcase">Showcase</a>
      <a href="#docs">Dokumentacja</a>
      <a href="#pricing">Cennik</a>
    </nav>

    <div style="display:flex; align-items:center; gap:10px;">
      <button onclick="toggleTheme()" class="btn-small">ðŸŒ“</button>
      <a href="login.html" class="btn-small">Wyloguj</a>
    </div>
  </header>

  <!-- Dashboard -->
  <section class="hero">
    <div class="dashboard-header">
      <h1>Twoje sceny</h1>
      <div class="dashboard-actions">
        <input type="text" class="search-bar" placeholder="Szukaj sceny..." oninput="filterScenes(this.value)">
        <button class="btn-primary" onclick="addScene()">+ Nowa scena</button>
      </div>
    </div>

    <div id="sceneGrid" class="scene-grid"></div>
  </section>

  <script>
    function filterScenes(q) {
      q = q.toLowerCase();
      document.querySelectorAll('.scene-card').forEach(card => {
        const title = card.querySelector('h3')?.textContent?.toLowerCase() || '';
        if (title.includes(q) || card.classList.contains('add-new')) {
          card.style.display = 'flex';
        } else {
          card.style.display = 'none';
        }
      });
    }
  </script>
</body>
</html>
